binary-debuggable-source
0000 0000 f asmfiles/Al Bundy Theme TV-Series.asm
0000 0000 s 
5200 5200 s  org $5200 
5200 5200 s 
5200 5200 s @DSPLY		equ	$4467
5200 5200 s @EXIT		equ	$402d
5200 5200 s @KBD    	equ 	$002b 
5200 5200 s @DSP    	equ 	$0033
5200 5200 s @KEY    	equ 	$0049 
5200 5200 s 
5200 5200 s k_Q		equ	$380402
5200 5200 s 
5200 5200 s ETX     equ 	$03 
5200 5200 s ENTER	equ	$0d ; @DSPLY with newline
5200 5200 s SPACE   equ 	$20 
5200 5200 s NULL    equ 	$0 
5200 5200 s 
5200 5200 d 00
5200 5200 u 01 02
5200 5200 s lastbyte 	defb 	0
5201 5201 s 
5201 5201 d 00
5201 5201 u 01 02
5201 5201 s timer0delta	defb 	0
5202 5202 s 
5202 5202 d 00
5202 5202 u 01 02
5202 5202 s curcount 	defb 	0
5203 5203 d 00
5203 5203 u 01 02
5203 5203 s curcounth 	defb 	0
5204 5204 s 	
5204 5204 d 00
5204 5204 u 01 02
5204 5204 s midiadr 	defb 	0
5205 5205 d 00
5205 5205 u 01 02
5205 5205 s midiadrh 	defb 	0     
5206 5206 s 
5206 5206 d 00
5206 5206 u 01 02
5206 5206 s timer0	 	defb 	0
5207 5207 d 00
5207 5207 u 01 02
5207 5207 s timer	 	defb 	0
5208 5208 d 00
5208 5208 u 01 02
5208 5208 s timerh	 	defb 	0
5209 5209 s 
5209 5209 s 
5209 5209 d 0d
5209 5209 u 01 02
5209 5209 s title0		defb  ENTER 
520a 520a d 2a2a2a204d4944492f383020506c61796261636b2066726f6d205452532d38302052414d202d202843292032303234204c616d6264614d696b656c202a2a2a0d
520a 520a u 40 02
520a 520a s title1		defb  '*** MIDI/80 Playback from TRS-80 RAM - (C) 2024 LambdaMikel ***', ENTER
524a 524a d 20202020534f4e474e414d453a20416c2042756e6479205468656d652054562d5365726965730d
524a 524a u 27 02
524a 524a s title2          defb  '    SONGNAME: Al Bundy Theme TV-Series', ENTER
5271 5271 d 0d
5271 5271 u 01 02
5271 5271 s title3		defb  ENTER
5272 5272 d 456e74657220706c61796261636b20737065656420284d6f64656c20332f34203d20342c204d6f64656c2031203d2036293f200d
5272 5272 u 34 02
5272 5272 s title4		defb  'Enter playback speed (Model 3/4 = 4, Model 1 = 6)? ', ENTER 
52a6 52a6 d 506c6179696e672e2e2e20285120666f722071756974290d
52a6 52a6 u 18 02
52a6 52a6 s title5		defb  'Playing... (Q for quit)', ENTER
52be 52be s 
52be 52be d 0d
52be 52be u 01 02
52be 52be s endm0		defb  ENTER
52bf 52bf d 5468616e6b7320666f72206c697374656e696e67210d
52bf 52bf u 16 02
52bf 52bf s endm1		defb  'Thanks for listening!', ENTER
52d5 52d5 d 0d
52d5 52d5 u 01 02
52d5 52d5 s endm2		defb  ENTER
52d6 52d6 d 4d616b696e6720796f7572206f776e20736f6e677320697320656173793a0d
52d6 52d6 u 1f 02
52d6 52d6 s endm3		defb  'Making your own songs is easy:', ENTER
52f5 52f5 d 68747470733a2f2f6769746875622e636f6d2f6c616d6264616d696b656c2f4d4944492d38300d
52f5 52f5 u 27 02
52f5 52f5 s endm4 		defb  'https://github.com/lambdamikel/MIDI-80', ENTER
531c 531c d 0d
531c 531c u 01 02
531c 531c s endm5 		defb  ENTER
531d 531d s 
531d 531d d 52414d3a20000000002d000000000d
531d 531d u 0f 02
531d 531d s dispbuf 	defb 'RAM: ',0,0,0,0,'-',0,0,0,0,ENTER 
532c 532c s 
532c 532c s start:
532c 532c s 
532c 532c d 210952
532c 532c u 03 01
532c 532c s 	ld hl,title0
532f 532f d cd6744
532f 532f u 03 01
532f 532f s 	call @DSPLY
5332 5332 d 210a52
5332 5332 u 03 01
5332 5332 s 	ld hl,title1
5335 5335 d cd6744
5335 5335 u 03 01
5335 5335 s 	call @DSPLY
5338 5338 d 214a52
5338 5338 u 03 01
5338 5338 s 	ld hl,title2
533b 533b d cd6744
533b 533b u 03 01
533b 533b s 	call @DSPLY
533e 533e d 217152
533e 533e u 03 01
533e 533e s 	ld hl,title3
5341 5341 d cd6744
5341 5341 u 03 01
5341 5341 s 	call @DSPLY
5344 5344 s 
5344 5344 s 	;;  show start
5344 5344 d 015754
5344 5344 u 03 01
5344 5344 s 	ld bc,mididata
5347 5347 d c5
5347 5347 u 01 01
5347 5347 s 	push bc 
5348 5348 d 48
5348 5348 u 01 01
5348 5348 s 	ld c,b 
5349 5349 d cd4354
5349 5349 u 03 01
5349 5349 s 	call byte2ascii
534c 534c d 212253
534c 534c u 03 01
534c 534c s 	ld hl,dispbuf+5
534f 534f d 72
534f 534f u 01 01
534f 534f s 	ld (hl),d
5350 5350 d 23
5350 5350 u 01 01
5350 5350 s 	inc hl
5351 5351 d 73
5351 5351 u 01 01
5351 5351 s 	ld (hl),e
5352 5352 d 23
5352 5352 u 01 01
5352 5352 s 	inc hl
5353 5353 d c1
5353 5353 u 01 01
5353 5353 s 	pop bc
5354 5354 d cd4354
5354 5354 u 03 01
5354 5354 s 	call byte2ascii
5357 5357 d 72
5357 5357 u 01 01
5357 5357 s 	ld (hl),d
5358 5358 d 23
5358 5358 u 01 01
5358 5358 s 	inc hl
5359 5359 d 73
5359 5359 u 01 01
5359 5359 s 	ld (hl),e
535a 535a s 
535a 535a d 23
535a 535a u 01 01
535a 535a s 	inc hl
535b 535b d 23
535b 535b u 01 01
535b 535b s 	inc hl
535c 535c s 	;;  show end
535c 535c d 010669
535c 535c u 03 01
535c 535c s 	ld bc,midiend
535f 535f d c5
535f 535f u 01 01
535f 535f s 	push bc 
5360 5360 d 48
5360 5360 u 01 01
5360 5360 s 	ld c,b 
5361 5361 d cd4354
5361 5361 u 03 01
5361 5361 s 	call byte2ascii
5364 5364 d 72
5364 5364 u 01 01
5364 5364 s 	ld (hl),d
5365 5365 d 23
5365 5365 u 01 01
5365 5365 s 	inc hl
5366 5366 d 73
5366 5366 u 01 01
5366 5366 s 	ld (hl),e
5367 5367 d 23
5367 5367 u 01 01
5367 5367 s 	inc hl
5368 5368 d c1
5368 5368 u 01 01
5368 5368 s 	pop bc
5369 5369 d cd4354
5369 5369 u 03 01
5369 5369 s 	call byte2ascii
536c 536c d 72
536c 536c u 01 01
536c 536c s 	ld (hl),d
536d 536d d 23
536d 536d u 01 01
536d 536d s 	inc hl
536e 536e d 73
536e 536e u 01 01
536e 536e s 	ld (hl),e
536f 536f s 
536f 536f s 	;;  show buffer
536f 536f d 211d53
536f 536f u 03 01
536f 536f s 	ld hl,dispbuf 
5372 5372 d cd6744
5372 5372 u 03 01
5372 5372 s 	call @DSPLY
5375 5375 s 	
5375 5375 s 	;;  ask for playback speed
5375 5375 s 	;; ld hl,title4
5375 5375 s 	;; call @DSPLY ; Show Enter playback speed message
5375 5375 s 
5375 5375 d cd4254
5375 5375 u 03 01
5375 5375 s 	call allnotesoff
5378 5378 s 
5378 5378 s         ;; Enter a key for playback speed
5378 5378 s 	;call @KEY    
5378 5378 s 	;sub 48 ; "0" = 48
5378 5378 s 
5378 5378 s         ;; Optional use a constant value for playback speed
5378 5378 s         ;; normal speed = 5
5378 5378 d 3e05
5378 5378 u 02 01
5378 5378 s         ld a, 5 ; Playback speed
537a 537a s 
537a 537a d 320152
537a 537a u 03 01
537a 537a s 	ld (timer0delta), a
537d 537d d 320652
537d 537d u 03 01
537d 537d s 	ld (timer0), a
5380 5380 s 
5380 5380 d 21a652
5380 5380 u 03 01
5380 5380 s 	ld hl,title5
5383 5383 d cd6744
5383 5383 u 03 01
5383 5383 s 	call @DSPLY
5386 5386 s 
5386 5386 s 	;; M3 - turn off display waitstates
5386 5386 s 	;; not necessary
5386 5386 s 
5386 5386 s 	;in  a,($ff)
5386 5386 s 	;or  a,$10
5386 5386 s 	;and a,~$20
5386 5386 s 	;out ($ec),a
5386 5386 s 
5386 5386 s 	;; play 
5386 5386 s 
5386 5386 d 210452
5386 5386 u 03 01
5386 5386 s 	ld hl,midiadr ; write mididata start adress $6000 into pointer reg.
5389 5389 d 3657
5389 5389 u 02 01
5389 5389 s 	ld (hl),mididata mod 256
538b 538b d 23
538b 538b u 01 01
538b 538b s 	inc hl
538c 538c d 3654
538c 538c u 02 01
538c 538c s 	ld (hl),mididata / 256 
538e 538e d 2a0452
538e 538e u 03 01
538e 538e s 	ld hl,(midiadr)
5391 5391 s 
5391 5391 d 5e
5391 5391 u 01 01
5391 5391 s 	ld e,(hl) ; store first time delta into curcount 
5392 5392 d 1600
5392 5392 u 02 01
5392 5392 s 	ld d,0
5394 5394 d ed530252
5394 5394 u 04 01
5394 5394 s 	ld (curcount),de
5398 5398 s 
5398 5398 s next:
5398 5398 s 
5398 5398 s 	;ld	a,(k_Q >> 8)
5398 5398 s 	;and	k_Q % $100
5398 5398 s 	;call	nz, endofsong
5398 5398 s 
5398 5398 d cd2b00
5398 5398 u 03 01
5398 5398 s 	call @KBD
539b 539b d fe51
539b 539b u 02 01
539b 539b s 	cp 81 ; Q = quit 
539d 539d d cae453
539d 539d u 03 01
539d 539d s 	jp z, endofsong
53a0 53a0 s 
53a0 53a0 s 
53a0 53a0 s midiavail:	
53a0 53a0 s 
53a0 53a0 d cdb353
53a0 53a0 u 03 01
53a0 53a0 s 	call avail
53a3 53a3 d fe01
53a3 53a3 u 02 01
53a3 53a3 s 	cp 1
53a5 53a5 d 2807
53a5 53a5 u 02 01
53a5 53a5 s 	jr z, process
53a7 53a7 d fe02
53a7 53a7 u 02 01
53a7 53a7 s 	cp 2  ; 2 = end of data
53a9 53a9 d cae453
53a9 53a9 u 03 01
53a9 53a9 s 	jp z, endofsong
53ac 53ac d 18ea
53ac 53ac u 02 01
53ac 53ac s 	jr next
53ae 53ae s 
53ae 53ae s 	
53ae 53ae s process:
53ae 53ae s 	
53ae 53ae d cd0e54
53ae 53ae u 03 01
53ae 53ae s 	call outa
53b1 53b1 d 18e5
53b1 53b1 u 02 01
53b1 53b1 s 	jr next     
53b3 53b3 s 
53b3 53b3 s avail:
53b3 53b3 s 	
53b3 53b3 d cd2754
53b3 53b3 u 03 01
53b3 53b3 s 	call get_timer ; get timer -> HL 
53b6 53b6 d ed5b0252
53b6 53b6 u 04 01
53b6 53b6 s 	ld de,(curcount)
53ba 53ba d 1600
53ba 53ba u 02 01
53ba 53ba s 	ld d,0
53bc 53bc d ed52
53bc 53bc u 02 01
53bc 53bc s 	sbc hl,de  
53be 53be d 3821
53be 53be u 02 01
53be 53be s 	jr c,notyet ; current ticker (HL) smaller than MIDI next counter (DE) 
53c0 53c0 s 	
53c0 53c0 d 2a0452
53c0 53c0 u 03 01
53c0 53c0 s 	ld hl,(midiadr) ; load MIDI data for current block 
53c3 53c3 d 23
53c3 53c3 u 01 01
53c3 53c3 s 	inc hl ; advance to read MIDI data for the match  
53c4 53c4 d 46
53c4 53c4 u 01 01
53c4 53c4 s 	ld b,(hl) ; read MIDI data for current block 
53c5 53c5 d 23
53c5 53c5 u 01 01
53c5 53c5 s 	inc hl ; pointer points to next MIDI block, pre-load curcounter
53c6 53c6 d e5
53c6 53c6 u 01 01
53c6 53c6 s 	push hl ; save current pointer, preload counter
53c7 53c7 d 5e
53c7 53c7 u 01 01
53c7 53c7 s 	ld e,(hl) 
53c8 53c8 d 1600
53c8 53c8 u 02 01
53c8 53c8 s 	ld d,0
53ca 53ca d ed530252
53ca 53ca u 04 01
53ca 53ca s 	ld (curcount),de ; store next counter for fast access during playback
53ce 53ce d 7b
53ce 53ce u 01 01
53ce 53ce s 	ld a,e
53cf 53cf d feff
53cf 53cf u 02 01
53cf 53cf s 	cp 255
53d1 53d1 d 2811
53d1 53d1 u 02 01
53d1 53d1 s 	jr z,endofsong
53d3 53d3 d 210052
53d3 53d3 u 03 01
53d3 53d3 s 	ld hl,lastbyte
53d6 53d6 d 70
53d6 53d6 u 01 01
53d6 53d6 s 	ld (hl), b ; store MIDI byte there     
53d7 53d7 d d1
53d7 53d7 u 01 01
53d7 53d7 s 	pop de ; get saved pointer 
53d8 53d8 d 210452
53d8 53d8 u 03 01
53d8 53d8 s 	ld hl,midiadr
53db 53db d 73
53db 53db u 01 01
53db 53db s 	ld (hl),e ; update pointer
53dc 53dc d 23
53dc 53dc u 01 01
53dc 53dc s 	inc hl
53dd 53dd d 72
53dd 53dd u 01 01
53dd 53dd s 	ld (hl),d
53de 53de d 3e01
53de 53de u 02 01
53de 53de s 	ld a,1 ; signal byte is available
53e0 53e0 d c9
53e0 53e0 u 01 01
53e0 53e0 s 	ret
53e1 53e1 s 
53e1 53e1 s notyet:	
53e1 53e1 s 
53e1 53e1 d 3e00
53e1 53e1 u 02 01
53e1 53e1 s 	ld a,0 ; signal no byte available
53e3 53e3 d c9
53e3 53e3 u 01 01
53e3 53e3 s 	ret
53e4 53e4 s 
53e4 53e4 s endofsong:
53e4 53e4 s 
53e4 53e4 d 21be52
53e4 53e4 u 03 01
53e4 53e4 s 	ld hl,endm0
53e7 53e7 d cd6744
53e7 53e7 u 03 01
53e7 53e7 s 	call @DSPLY
53ea 53ea d 21bf52
53ea 53ea u 03 01
53ea 53ea s 	ld hl,endm1
53ed 53ed d cd6744
53ed 53ed u 03 01
53ed 53ed s 	call @DSPLY
53f0 53f0 d 21d552
53f0 53f0 u 03 01
53f0 53f0 s 	ld hl,endm2
53f3 53f3 d cd6744
53f3 53f3 u 03 01
53f3 53f3 s 	call @DSPLY
53f6 53f6 d 21d652
53f6 53f6 u 03 01
53f6 53f6 s 	ld hl,endm3
53f9 53f9 d cd6744
53f9 53f9 u 03 01
53f9 53f9 s 	call @DSPLY
53fc 53fc d 21f552
53fc 53fc u 03 01
53fc 53fc s 	ld hl,endm4
53ff 53ff d cd6744
53ff 53ff u 03 01
53ff 53ff s 	call @DSPLY
5402 5402 d 211c53
5402 5402 u 03 01
5402 5402 s 	ld hl,endm5
5405 5405 d cd6744
5405 5405 u 03 01
5405 5405 s 	call @DSPLY
5408 5408 s 
5408 5408 s 	; ld a,"@"
5408 5408 s 	; call @DSP 
5408 5408 s 
5408 5408 d cd4254
5408 5408 u 03 01
5408 5408 s 	call allnotesoff	
540b 540b d cd2d40
540b 540b u 03 01
540b 540b s 	call @EXIT
540e 540e s 	; ret
540e 540e s 
540e 540e s outa:	
540e 540e d 3a0052
540e 540e u 03 01
540e 540e s 	ld a,(lastbyte)
5411 5411 s outa1:
5411 5411 d d308
5411 5411 u 02 01
5411 5411 s 	out (8),a
5413 5413 d 110000
5413 5413 u 03 01
5413 5413 s 	ld de,0 ; clear ticker 
5416 5416 d 210000
5416 5416 u 03 01
5416 5416 s 	ld hl,0
5419 5419 d 220752
5419 5419 u 03 01
5419 5419 s 	ld (timer),hl 
541c 541c d c9
541c 541c u 01 01
541c 541c s 	ret
541d 541d s 	 
541d 541d s short_delay:
541d 541d d 119000
541d 541d u 03 01
541d 541d s 	ld de,$0090
5420 5420 s loop: 
5420 5420 d 1b
5420 5420 u 01 01
5420 5420 s 	dec de
5421 5421 d 7a
5421 5421 u 01 01
5421 5421 s 	ld a,d
5422 5422 d b3
5422 5422 u 01 01
5422 5422 s 	or e
5423 5423 d c22054
5423 5423 u 03 01
5423 5423 s 	jp nz,loop
5426 5426 d c9
5426 5426 u 01 01
5426 5426 s 	ret 
5427 5427 s 
5427 5427 s get_timer:
5427 5427 d 2a0752
5427 5427 u 03 01
5427 5427 s 	ld hl, (timer)
542a 542a d 3a0652
542a 542a u 03 01
542a 542a s 	ld a, (timer0)
542d 542d d 3d
542d 542d u 01 01
542d 542d s 	dec a
542e 542e d 320652
542e 542e u 03 01
542e 542e s 	ld (timer0), a
5431 5431 d fe00
5431 5431 u 02 01
5431 5431 s 	cp 0 ; zero ?
5433 5433 d c0
5433 5433 u 01 01
5433 5433 s 	ret nz 
5434 5434 s 
5434 5434 d 3a0152
5434 5434 u 03 01
5434 5434 s 	ld a, (timer0delta) 
5437 5437 d 320652
5437 5437 u 03 01
5437 5437 s 	ld (timer0), a
543a 543a s 
543a 543a d 2a0752
543a 543a u 03 01
543a 543a s 	ld hl, (timer)	
543d 543d d 23
543d 543d u 01 01
543d 543d s 	inc hl
543e 543e d 220752
543e 543e u 03 01
543e 543e s 	ld (timer), hl
5441 5441 s 	
5441 5441 d c9
5441 5441 u 01 01
5441 5441 s 	ret 
5442 5442 s 
5442 5442 s allnotesoff:
5442 5442 s 
5442 5442 s 	;; doesn't work
5442 5442 s 
5442 5442 s 	;;  Proteus mode: F0 7E 00 09 02 F7
5442 5442 s 
5442 5442 s 	; ld a,$f0 
5442 5442 s 	; call outa1
5442 5442 s 	; call short_delay
5442 5442 s 
5442 5442 s 	; ld a,$7e
5442 5442 s 	; call outa1
5442 5442 s 	; call short_delay
5442 5442 s 
5442 5442 s 	; ld a,$00
5442 5442 s 	; call outa1
5442 5442 s 	; call short_delay
5442 5442 s 
5442 5442 s 	; ld a,$09
5442 5442 s 	; call outa1
5442 5442 s 	; call short_delay
5442 5442 s 
5442 5442 s 	; ld a,$02
5442 5442 s 	; call outa1
5442 5442 s 	; call short_delay
5442 5442 s 
5442 5442 s 	; ld a,$f7
5442 5442 s 	; call outa1
5442 5442 s 	; call short_delay
5442 5442 s 
5442 5442 s 	
5442 5442 s 	
5442 5442 s 	; ;; send all notes off: 10110000 = 176, 123, 0
5442 5442 s 	; ld a,176 ; CC 
5442 5442 s 	; call outa1
5442 5442 s 	; call short_delay
5442 5442 s 
5442 5442 s 	; ld a,124 		; OMNI MODE ON also clears notes! 
5442 5442 s 	; call outa1
5442 5442 s 	; call short_delay
5442 5442 s 
5442 5442 s 	; ld a,0 
5442 5442 s 	; call outa1
5442 5442 s 	; call short_delay
5442 5442 s 
5442 5442 s 	; ld a,176 ; CC 
5442 5442 s 	; call outa1
5442 5442 s 	; call short_delay
5442 5442 s 
5442 5442 s 	; ld a,123 		; OMNI MODE ON also clears notes! 
5442 5442 s 	; call outa1
5442 5442 s 	; call short_delay
5442 5442 s 
5442 5442 s 	; ld a,0 
5442 5442 s 	; call outa1
5442 5442 s 	; call short_delay
5442 5442 s 
5442 5442 d c9
5442 5442 u 01 01
5442 5442 s 	ret
5443 5443 s 
5443 5443 s byte2ascii: 			; input c, output de ASCII 
5443 5443 d 79
5443 5443 u 01 01
5443 5443 s    ld a, c
5444 5444 d 1f
5444 5444 u 01 01
5444 5444 s    rra
5445 5445 d 1f
5445 5445 u 01 01
5445 5445 s    rra
5446 5446 d 1f
5446 5446 u 01 01
5446 5446 s    rra
5447 5447 d 1f
5447 5447 u 01 01
5447 5447 s    rra
5448 5448 d cd4d54
5448 5448 u 03 01
5448 5448 s    call convnibble 
544b 544b d 57
544b 544b u 01 01
544b 544b s    ld d, a	
544c 544c d 79
544c 544c u 01 01
544c 544c s    ld  a,c
544d 544d s convnibble:
544d 544d d e60f
544d 544d u 02 01
544d 544d s    and  $0F
544f 544f d c690
544f 544f u 02 01
544f 544f s    add  a,$90
5451 5451 d 27
5451 5451 u 01 01
5451 5451 s    daa
5452 5452 d ce40
5452 5452 u 02 01
5452 5452 s    adc  a,$40
5454 5454 d 27
5454 5454 u 01 01
5454 5454 s    daa
5455 5455 d 5f
5455 5455 u 01 01
5455 5455 s    ld e, a	
5456 5456 d c9
5456 5456 u 01 01
5456 5456 s    ret
5457 5457 s 	
5457 5457 s mididata equ 	$
5457 5457 s 	
5457 5457 s 	incbin 'midibin/Al Bundy Theme TV-Series0.bin'
5457 5457 d 00c0000000900048005f00c100000091
5467 5467 d 0045005f00c2000000920043005f00c3
5477 5477 d 000000930040005f00c4000000c50000
5487 5487 d 96900048000000910045000000920043
5497 5497 d 00000093004000000094002b005f3294
54a7 54a7 d 002b00000094002a005f3294002a0000
54b7 54b7 d 0094002b005f3294002b00000094002c
54c7 54c7 d 005f9694002c00000094002b005f9690
54d7 54d7 d 0049005f00910046005f00920043005f
54e7 54e7 d 00930040005f0094002b000096900049
54f7 54f7 d 00000091004600000092004300000093
5507 5507 d 004000000094002b005f3294002b0000
5517 5517 d 0094002a005f3294002a00000094002b
5527 5527 d 005f3294002b00000094002c005f9694
5537 5537 d 002c00000094002b005f9690004a005f
5547 5547 d 00910047005f00920043005f00930041
5557 5557 d 005f0094002b00009690004a00000091
5567 5567 d 00470000009200430000009300410000
5577 5577 d 0094002b005f3294002b00000094002a
5587 5587 d 005f3294002a00000094002b005f3294
5597 5597 d 002b00000094002c005f96900053005f
55a7 55a7 d 00910050005f0092004e005f0093004b
55b7 55b7 d 005f0094002c00000094002b005f9690
55c7 55c7 d 0053000000900054005f009100500000
55d7 55d7 d 00910051005f0092004e00000092004f
55e7 55e7 d 005f0093004b00000093004c005f0094
55f7 55f7 d 002b000000940030005f649400300000
5607 5607 d 00940037005f32900054000000910051
5617 5617 d 00000092004f00000093004c00000094
5627 5627 d 0037000000940035005f969400350000
5637 5637 d 00940034005f96940034000000940032
5647 5647 d 005f9690003c005f0094003200000094
5657 5657 d 0030005f9690003c000000900043005f
5667 5667 d 00910040005f0092003c005f00940030
5677 5677 d 000096900043000000900044005f0091
5687 5687 d 0040000000910040005f0092003c0000
5697 5697 d 0092003c005f0094002b005f96900044
56a7 56a7 d 000000900045005f0091004000000091
56b7 56b7 d 0040005f0092003c00000092003c005f
56c7 56c7 d 0094002b00009690004500000090003b
56d7 56d7 d 005f0091004000000092003c00000094
56e7 56e7 d 0032005f9690003b000000900043005f
56f7 56f7 d 00910041005f0092003b005f00940032
5707 5707 d 000096900043000000900044005f0091
5717 5717 d 0041000000910041005f0092003b0000
5727 5727 d 0092003b005f0094002b005f96900044
5737 5737 d 000000900045005f0091004100000091
5747 5747 d 0041005f0092003b00000092003b005f
5757 5757 d 0094002b000096900045000000910041
5767 5767 d 00000092003b000000940030005f9690
5777 5777 d 003c005f6490003c00000090003b005f
5787 5787 d 3290003b00000090003c005f00940030
5797 5797 d 000000940028005f6490003c00000090
57a7 57a7 d 003e005f3290003e000000900040005f
57b7 57b7 d 64900040000000900043005f32900043
57c7 57c7 d 000000900041005f0094002800000094
57d7 57d7 d 0029005f96900041000000900048005f
57e7 57e7 d 00910045005f00920041005f96900048
57f7 57f7 d 000000900049005f0091004500000091
5807 5807 d 0045005f00920041000000920041005f
5817 5817 d 00940029000000940029005f96900049
5827 5827 d 00000090004a005f0091004500000091
5837 5837 d 0044005f00920041000000920041005f
5847 5847 d 9690004a00000090004c005f00910044
5857 5857 d 00000092004100000094002900000094
5867 5867 d 0030005f96910043005f00920040005f
5877 5877 d 0094003000000094002f005f4b90004c
5887 5887 d 00000090004a005f4b90004a00000090
5897 5897 d 0048005f00910043000000910043005f
58a7 58a7 d 00920040000000920040005f0094002f
58b7 58b7 d 00000094002d005f9690004800000090
58c7 58c7 d 0043005f009100430000009200400000
58d7 58d7 d 00920040005f0094002d00000094002b
58e7 58e7 d 005f96900043000000900044005f0092
58f7 58f7 d 004000000094002b000000940028005f
5907 5907 d 96910040005f0092003e005f00940028
5917 5917 d 000000940034005f9690004400000090
5927 5927 d 0045005f0091004000000091003e005f
5937 5937 d 0092003e00000092003c005f00940034
5947 5947 d 000000940035005f9690004500000091
5957 5957 d 003e00000092003c0000009400350000
5967 5967 d 4b900047005f4b900047000000900048
5977 5977 d 005f00910042005f0092003c005f0094
5987 5987 d 0033005f96900048000000900045005f
5997 5997 d 00910042000000910042005f0092003c
59a7 59a7 d 00000092003c005f9690004500000090
59b7 59b7 d 0043005f0091004200000092003c0000
59c7 59c7 d 0092003c005f00940033000000940034
59d7 59d7 d 005f64900043000000900045005f3290
59e7 59e7 d 0045000000900047005f0092003c0000
59f7 59f7 d 00940034000064900047000000900048
5a07 5a07 d 005f32900048000000940032005f9690
5a17 5a17 d 004a005f00910047005f00920042005f
5a27 5a27 d 0094003200000094003c005f00950032
5a37 5a37 d 005f9690004a000000900043005f0091
5a47 5a47 d 0047000000910041005f009200420000
5a57 5a57 d 0094003c00000094003b005f00950032
5a67 5a67 d 000000950037005f6494003b00000094
5a77 5a77 d 0035005f009500370000329400350000
5a87 5a87 d 00940034005f64940034000000940032
5a97 5a97 d 005f3290004300000090003c005f0091
5aa7 5aa7 d 0041000000940032000000940030005f
5ab7 5ab7 d 9690003c000000900043005f00910040
5ac7 5ac7 d 005f0092003c005f0094003000009690
5ad7 5ad7 d 0043000000900044005f009100400000
5ae7 5ae7 d 00910040005f0092003c00000092003c
5af7 5af7 d 005f0094002b005f9690004400000090
5b07 5b07 d 0045005f00910040000000910040005f
5b17 5b17 d 0092003c00000092003c005f0094002b
5b27 5b27 d 00009690004500000090003b005f0091
5b37 5b37 d 004000000092003c000000940032005f
5b47 5b47 d 9690003b000000900043005f00910041
5b57 5b57 d 005f0092003b005f0094003200009690
5b67 5b67 d 0043000000900044005f009100410000
5b77 5b77 d 00910041005f0092003b00000092003b
5b87 5b87 d 005f0094002b005f9690004400000090
5b97 5b97 d 0045005f00910041000000910041005f
5ba7 5ba7 d 0092003b00000092003b005f0094002b
5bb7 5bb7 d 00009690004500000091004100000092
5bc7 5bc7 d 003b000000940030005f9690003c005f
5bd7 5bd7 d 6490003c00000090003b005f3290003b
5be7 5be7 d 00000090003c005f0094003000000094
5bf7 5bf7 d 0028005f6490003c00000090003e005f
5c07 5c07 d 3290003e000000900040005f64900040
5c17 5c17 d 000000900043005f3290004300000090
5c27 5c27 d 0041005f00940028000000940029005f
5c37 5c37 d 96900041000000900048005f00910045
5c47 5c47 d 005f00920041005f9690004800000090
5c57 5c57 d 0049005f00910045000000910045005f
5c67 5c67 d 00920041000000920041005f00940029
5c77 5c77 d 000000940029005f9690004900000090
5c87 5c87 d 004a005f00910045000000910044005f
5c97 5c97 d 00920041000000920041005f9690004a
5ca7 5ca7 d 00000090004c005f0091004400000092
5cb7 5cb7 d 0041000000940029000000940030005f
5cc7 5cc7 d 96910043005f00920040005f00940030
5cd7 5cd7 d 00000094002f005f4b90004c00000090
5ce7 5ce7 d 004a005f4b90004a000000900048005f
5cf7 5cf7 d 00910043000000910043005f00920040
5d07 5d07 d 000000920040005f0094002f00000094
5d17 5d17 d 002d005f96900048000000900043005f
5d27 5d27 d 00910043000000920040000000920040
5d37 5d37 d 005f0094002d00000094002b005f9690
5d47 5d47 d 0043000000900044005f009200400000
5d57 5d57 d 0094002b000000940028005f96910040
5d67 5d67 d 005f0092003e005f0094002800000094
5d77 5d77 d 0034005f96900044000000900045005f
5d87 5d87 d 0091004000000091003e005f0092003e
5d97 5d97 d 00000092003c005f0094003400000094
5da7 5da7 d 0035005f9690004500000091003e0000
5db7 5db7 d 0092003c00000094003500004b900047
5dc7 5dc7 d 005f4b900047000000900048005f0091
5dd7 5dd7 d 0042005f0092003c005f00940033005f
5de7 5de7 d 96900048000000900045005f00910042
5df7 5df7 d 000000910042005f0092003c00000092
5e07 5e07 d 003c005f96900045000000900043005f
5e17 5e17 d 0091004200000092003c00000092003c
5e27 5e27 d 005f00940033000000940034005f6490
5e37 5e37 d 0043000000900045005f329000450000
5e47 5e47 d 00900047005f0092003c000000940034
5e57 5e57 d 000064900047000000900048005f3290
5e67 5e67 d 0048000000940032005f9690004a005f
5e77 5e77 d 00910047005f00920041005f00940032
5e87 5e87 d 00000094002b005f9690004a00000090
5e97 5e97 d 0048005f00910047000000910043005f
5ea7 5ea7 d 00920041000000920040005f0094002b
5eb7 5eb7 d 000000940030005f4b91004300000092
5ec7 5ec7 d 0040000000940030000019940034005f
5ed7 5ed7 d 32900048000000940034000000940035
5ee7 5ee7 d 005f64940035000000940037005f3290
5ef7 5ef7 d 0048005f00940037000000940038005f
5f07 5f07 d 0095002c005f9691003f005f0092003c
5f17 5f17 d 005f96900048000000900048005f0091
5f27 5f27 d 003f00000092003c0000009400380000
5f37 5f37 d 00940037005f9691003f005f0092003c
5f47 5f47 d 005f96900048000000900048005f0091
5f57 5f57 d 003f00000092003c0000009400370000
5f67 5f67 d 00940035005f64900048000000900046
5f77 5f77 d 005f32900046000000900044005f0091
5f87 5f87 d 003f005f0092003c005f649000440000
5f97 5f97 d 00900043005f32900043000000900041
5fa7 5fa7 d 005f0091003f00000092003c00000094
5fb7 5fb7 d 0035000000940033005f969000410000
5fc7 5fc7 d 0090003f005f0092003c005f9690003f
5fd7 5fd7 d 000000900041005f0091003d005f0092
5fe7 5fe7 d 003c000000920038005f009400330000
5ff7 5ff7 d 0095002c00009694002e005f96900041
6007 6007 d 00000091003d00000092003800000094
6017 6017 d 002e000000940027005f4b900040005f
6027 6027 d 0091003c005f4b90004000000090003d
6037 6037 d 005f0091003c00000091003a005f0094
6047 6047 d 002700009690003d00000090003c005f
6057 6057 d 0091003a000000910038005f0094002c
6067 6067 d 005f9690003c00000090003f005f0091
6077 6077 d 003800000091003c005f9694002c0000
6087 6087 d 00940033005f64940033000000940034
6097 6097 d 005f32940034000000940035005f6494
60a7 60a7 d 0035000000940037005f3290003f0000
60b7 60b7 d 00900048005f0091003c000000940037
60c7 60c7 d 000000940038005f0095002c005f9691
60d7 60d7 d 003f005f0092003c005f969000480000
60e7 60e7 d 00900048005f0091003f00000092003c
60f7 60f7 d 000000940038000000940037005f9691
6107 6107 d 003f005f0092003c005f969000480000
6117 6117 d 00900048005f0091003f00000092003c
6127 6127 d 000000940037000000940035005f6490
6137 6137 d 0048000000900046005f329000460000
6147 6147 d 00900044005f0091003f005f0092003c
6157 6157 d 005f64900044000000900043005f3290
6167 6167 d 0043000000900041005f0091003f0000
6177 6177 d 0092003c000000940035000000940033
6187 6187 d 005f9690004100000090003f005f0092
6197 6197 d 003c005f9690003f000000900043005f
61a7 61a7 d 0092003c000000940033000000940034
61b7 61b7 d 005f0095002c00000095002b005f9691
61c7 61c7 d 003c005f6491003c00000091003b005f
61d7 61d7 d 3291003b00000091003c005f6491003c
61e7 61e7 d 00000091003e005f3291003e00000091
61f7 61f7 d 0040005f969000430000009100400000
6207 6207 d 0094003400000094002b005f0095002b
6217 6217 d 000064900043005f0091003b005f3290
6227 6227 d 0043000000900041005f0091003b0000
6237 6237 d 00910039005f64900041000000900040
6247 6247 d 005f00910039000000910037005f3290
6257 6257 d 004000000090003e005f009100370000
6267 6267 d 00910035005f9690003e000000900043
6277 6277 d 005f0091003500000091003b005f0094
6287 6287 d 002b000000940037005f00950035005f
6297 6297 d 9690004300000090003c005f0091003b
62a7 62a7 d 000000940037000000940030005f0095
62b7 62b7 d 003500009690003c000000900043005f
62c7 62c7 d 00910040005f0092003c005f00940030
62d7 62d7 d 000096900043000000900044005f0091
62e7 62e7 d 0040000000910040005f0092003c0000
62f7 62f7 d 0092003c005f0094002b005f96900044
6307 6307 d 000000900045005f0091004000000091
6317 6317 d 0040005f0092003c00000092003c005f
6327 6327 d 0094002b00009690004500000090003b
6337 6337 d 005f0091004000000092003c00000094
6347 6347 d 0032005f9690003b000000900043005f
6357 6357 d 00910041005f0092003b005f00940032
6367 6367 d 000096900043000000900044005f0091
6377 6377 d 0041000000910041005f0092003b0000
6387 6387 d 0092003b005f0094002b005f96900044
6397 6397 d 000000900045005f0091004100000091
63a7 63a7 d 0041005f0092003b00000092003b005f
63b7 63b7 d 0094002b000096900045000000910041
63c7 63c7 d 00000092003b000000940030005f9690
63d7 63d7 d 003c005f6490003c00000090003b005f
63e7 63e7 d 3290003b00000090003c005f00940030
63f7 63f7 d 000000940028005f6490003c00000090
6407 6407 d 003e005f3290003e000000900040005f
6417 6417 d 64900040000000900043005f32900043
6427 6427 d 000000900041005f0094002800000094
6437 6437 d 0029005f96900041000000900048005f
6447 6447 d 00910045005f00920041005f96900048
6457 6457 d 000000900049005f0091004500000091
6467 6467 d 0045005f00920041000000920041005f
6477 6477 d 00940029000000940029005f96900049
6487 6487 d 00000090004a005f0091004500000091
6497 6497 d 0045005f00920041000000920041005f
64a7 64a7 d 9690004a00000090004c005f00910045
64b7 64b7 d 00000092004100000094002900000094
64c7 64c7 d 0030005f96910043005f00920040005f
64d7 64d7 d 0094003000000094002f005f4b90004c
64e7 64e7 d 00000090004a005f4b90004a00000090
64f7 64f7 d 0048005f00910043000000910043005f
6507 6507 d 00920040000000920040005f0094002f
6517 6517 d 00000094002d005f9690004800000090
6527 6527 d 0043005f009100430000009200400000
6537 6537 d 00920040005f0094002d00000094002b
6547 6547 d 005f96900043000000900044005f0092
6557 6557 d 004000000094002b000000940034005f
6567 6567 d 96910040005f0092003e005f96900044
6577 6577 d 000000900045005f0091004000000091
6587 6587 d 003e005f0092003e00000092003c005f
6597 6597 d 9690004500000091003e00000092003c
65a7 65a7 d 00000094003400004b900047005f4b90
65b7 65b7 d 0047000000900048005f00910042005f
65c7 65c7 d 0092003c005f00940033005f96900048
65d7 65d7 d 000000900045005f0091004200000091
65e7 65e7 d 0042005f0092003c00000092003c005f
65f7 65f7 d 00940033000000940033005f96900045
6607 6607 d 000000900043005f0091004200000092
6617 6617 d 003c00000092003c005f009400330000
6627 6627 d 00940033005f9690004300000092003c
6637 6637 d 00000094003300004b900045005f4b90
6647 6647 d 0045000000900048005f00910042005f
6657 6657 d 0092003c005f00940033005f96900048
6667 6667 d 000000900045005f0091004200000091
6677 6677 d 0042005f0092003c00000092003c005f
6687 6687 d 00940033000000940033005f96900045
6697 6697 d 000000900043005f0091004200000092
66a7 66a7 d 003c00000092003c005f009400330000
66b7 66b7 d 00940034005f9690004300000092003c
66c7 66c7 d 00000094003400000094002b005f4b90
66d7 66d7 d 0045005f4b900045000000900048005f
66e7 66e7 d 00910042005f0092003c005f0094002b
66f7 66f7 d 000000940033005f9690004800000090
6707 6707 d 0045005f00910042000000910042005f
6717 6717 d 0092003c00000092003c005f00940033
6727 6727 d 000000940033005f9690004500000090
6737 6737 d 0043005f0091004200000092003c0000
6747 6747 d 0092003c005f00940033000000940033
6757 6757 d 005f64900043000000900045005f3290
6767 6767 d 0045000000900047005f0092003c0000
6777 6777 d 00940033000064900047000000900048
6787 6787 d 005f3290004800009690004a005f0091
6797 6797 d 0047005f00920041005f00940032005f
67a7 67a7 d 9694003200004b90004a000000900049
67b7 67b7 d 005f00910047000000910046005f0092
67c7 67c7 d 0041000000920040005f4b9000490000
67d7 67d7 d 0090004a005f00910046000000910047
67e7 67e7 d 005f00920040000000920041005f0094
67f7 67f7 d 002b005f9690004a000000900048005f
6807 6807 d 00910047000000910043005f00920041
6817 6817 d 000000920040005f0094002b00000094
6827 6827 d 0030005f969000480000009100430000
6837 6837 d 0092004000000094003000000094002b
6847 6847 d 005f3294002b00000094002a005f3294
6857 6857 d 002a00000094002b005f3294002b0000
6867 6867 d 0094002c005f9694002c00000094002b
6877 6877 d 005f9694002b000096900053005f0091
6887 6887 d 0050005f0092004e005f0093004b005f
6897 6897 d 0094002b005f96900053000000900054
68a7 68a7 d 005f00910050000000910051005f0092
68b7 68b7 d 004e00000092004f005f0093004b0000
68c7 68c7 d 0093004c005f0094002b000000940030
68d7 68d7 d 005f00950024005f9690005400000091
68e7 68e7 d 005100000092004f00000093004c0000
68f7 68f7 d 009400300000009500240000
5457 5457 u ff 02
5556 5556 u ff 02
5655 5655 u ff 02
5754 5754 u ff 02
5853 5853 u ff 02
5952 5952 u ff 02
5a51 5a51 u ff 02
5b50 5b50 u ff 02
5c4f 5c4f u ff 02
5d4e 5d4e u ff 02
5e4d 5e4d u ff 02
5f4c 5f4c u ff 02
604b 604b u ff 02
614a 614a u ff 02
6249 6249 u ff 02
6348 6348 u ff 02
6447 6447 u ff 02
6546 6546 u ff 02
6645 6645 u ff 02
6744 6744 u ff 02
6843 6843 u c0 02
6903 6903 s 	;;incbin "./RINGOF1.BIN"
6903 6903 s 
6903 6903 d ffffff
6903 6903 u 03 02
6903 6903 s endbytes	defb 	$ff, $ff, $ff
6906 6906 s 
6906 6906 s midiend equ 	$
6906 6906 s 
6906 6906 s  end start
532c e
0033 v @DSP
5200 a lastbyte
5207 a timer
0003 v ETX
544d a convnibble
5203 a curcounth
002b v @KBD
0049 v @KEY
532c a start
5206 a timer0
5208 a timerh
380402 v k_Q
402d v @EXIT
0000 v NULL
5204 a midiadr
5205 a midiadrh
53e1 a notyet
5202 a curcount
540e a outa
531d a dispbuf
000d v ENTER
5443 a byte2ascii
53b3 a avail
5442 a allnotesoff
6906 v midiend
4467 v @DSPLY
5209 a title0
520a a title1
524a a title2
5271 a title3
5272 a title4
52a6 a title5
5398 a next
6903 a endbytes
0020 v SPACE
5411 a outa1
5457 v mididata
53ae a process
53e4 a endofsong
541d a short_delay
53a0 a midiavail
5427 a get_timer
5420 a loop
52be a endm0
52bf a endm1
52d5 a endm2
52d6 a endm3
52f5 a endm4
531c a endm5
5201 a timer0delta
